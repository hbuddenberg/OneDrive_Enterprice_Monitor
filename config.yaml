# OneDrive Business Monitor Configuration
# Target account to monitor (MUST match tray icon title)
target:
  email: "hansbuddenberg@tipartner.com"
  folder: "C:\\Users\\hansbuddenberg\\OneDrive - tipartner"  # Icon title: "OneDrive - tipartner"

# Monitor settings
monitor:
  check_interval_seconds: 15
  status_file: "./status.json"
  active_check_enabled: true
  active_check_interval_seconds: 30
  active_check_timeout_seconds: 20
  log_path: "C:\\Users\\hansbuddenberg\\AppData\\Local\\Microsoft\\OneDrive\\logs\\Business1\\SyncDiagnostics.log"
  canary_file: ".monitor_canary"
  restart_on_startup: false
  restart_wait_seconds: 10
  syncing_restart_timeout_seconds: 300  # 5 min en SYNCING -> forzar reinicio (0 = deshabilitado)

# Notifications (Multi-channel)
notifications:
  enabled: true
  cooldown_minutes: 0  # 0 = sin cooldown (para pruebas), 60 = producci√≥n
  failed_remediation_delay_seconds: 120  # Time to wait after restart before notifying failure
  channels:
    email:
      enabled: true
      smtp_server: "smtp.gmail.com"
      smtp_port: 587
      sender_email: "h.buddenberg@gmail.com"
      sender_password: "sovs lvvi delz xklm"
      to_email: "hansbuddenberg@tipartner.com"
      cc_email: ""
      bcc_email: ""
    teams:
      enabled: false
      webhook_url: "https://outlook.office.com/webhook/..."
    slack:
      enabled: false
      webhook_url: "https://hooks.slack.com/services/..."

# Alerting (Legacy - see notifications)
alerting:
  enabled: true

# Dashboard settings
dashboard:
  host: "0.0.0.0"
  port: 2048

# Validaciones (habilitar/deshabilitar)
validations:
  registry_check: false
  process_check: true
  log_check: true
  canary_check: true
  liveness_check: true
  status_assignment: true
  tray_auth_check: true  # Detectar mensajes de credenciales en bandeja del sistema
